export type Locale = 'en' | 'de';

// Translation dictionary
const translations = {
  en: {
    common: {
      trips: 'Trips',
      entries: 'Entries',
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      back: 'Back',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      signOut: 'Sign Out',
      signIn: 'Sign In',
      language: 'Language',
      view: 'View',
      open: 'Open',
      close: 'Close',
      active: 'Active',
      copied: 'Copied',
    },
    editor: {
      placeholder: 'Start writing...',
      contentArea: 'Rich text editor content area',
      toolbar: 'Text formatting toolbar',
      textFormatting: 'Text formatting',
      bold: 'Bold',
      italic: 'Italic',
      strikethrough: 'Strikethrough',
      underline: 'Underline',
      headings: 'Headings',
      paragraph: 'Paragraph',
      heading1: 'Heading 1',
      heading2: 'Heading 2',
      heading3: 'Heading 3',
      lists: 'Lists',
      bulletList: 'Bullet list',
      numberedList: 'Numbered list',
      alignment: 'Text alignment',
      alignLeft: 'Align left',
      alignCenter: 'Align center',
      alignRight: 'Align right',
      links: 'Links',
      addLink: 'Add link',
      removeLink: 'Remove link',
      linkUrl: 'Link URL',
      linkPlaceholder: 'https://example.com',
      applyLink: 'Apply',
      undoRedo: 'Undo and redo',
      undo: 'Undo',
      redo: 'Redo',
      initError: 'Editor failed to initialize. Please refresh and try again.',
    },
    trips: {
      create: 'Create Trip',
      edit: 'Edit Trip',
      delete: 'Delete Trip',
      title: 'Title',
      description: 'Description',
      startDate: 'Start Date',
      endDate: 'End Date',
      coverImage: 'Cover Image',
      coverImageOptional: 'Cover image (optional)',
      noTrips: 'No trips yet',
      viewShared: 'View Shared',
      backToTrips: 'Back to trips',
      backToTrip: 'Back to trip',
      tripOverview: 'Trip overview',
      owner: 'Owner',
      tripActions: 'Trip actions',
      editTrip: 'Edit trip',
      editTripDetails: 'Edit trip details',
      yourTrips: 'Your trips',
      manageTrips: 'Manage trips',
      manageUsers: 'Manage users',
      createTrip: 'Create trip',
      deleteTrip: 'Delete trip',
      transferOwnership: 'Transfer ownership',
      share: 'Share',
      addStory: 'Add story',
      saveChanges: 'Save changes',
      startNewTrip: 'Start a new trip or revisit your existing plans.',
      tripsInvitedMessage: 'Trips you have been invited to will appear here.',
      revokeShareLink: 'Revoke share link',
      tripTitle: 'Trip title',
      tripSetup: 'Trip Setup',
      updateBasics: 'Update the basics so your trip info stays accurate.',
      noInvitedTripsYet: 'No invited trips yet',
      whenInvited: 'When someone invites you to a trip, it will show up here.',
      noTripsYet: 'No trips yet. Create your first trip to start capturing your journey.',
      createATrip: 'Create a trip',
      noAccess: 'Your account does not have access to trips.',
      accessRestricted: 'Access to this area is restricted.',
      titleRequired: 'Title is required.',
      startDateRequired: 'Start date is required.',
      endDateRequired: 'End date is required.',
      endDateAfterStart: 'End date must be after the start date.',
      placeholderTitle: 'Spring in Kyoto',
      fileFormatHint: 'JPG, PNG, or WebP up to 5MB.',
      coverPreviewAlt: 'Cover preview',
      uploading: 'Uploading…',
      uploadError: 'Unable to upload cover image.',
      creatingTrip: 'Creating trip...',
      createTripError: 'Unable to create trip. Please try again.',
      createNewTrip: 'Create a new trip',
      addCoreDetails: 'Add the core details so you can start collecting entries right away.',
      latestEntries: 'Latest entries',
      filterTags: 'Filter tags',
      clearTagFilters: 'Clear filters',
      mapView: 'Map',
      viewFullMap: 'View full map',
      tripMap: 'Trip map',
      mapPins: 'Map pins',
      noLocations: 'No locations yet. Entries appear once coordinates are available.',
      noEntriesYet: 'No entries yet. Check back soon.',
      read: 'Read',
      coverFor: 'Cover for',
      previewFor: 'Preview for',
      shareLinkNoLongerValid: 'This share link is no longer valid.',
      validatingShareLink: 'Validating share link...',
      unableDetermineHost: 'Unable to determine the host for this request.',
      unableLoadTrip: 'Unable to load this trip.',
      unableLoadTrips: 'Unable to load trips.',
      unableLoadTripOverview: 'Unable to load trip overview.',
      unableLoadEntries: 'Unable to load entries.',
      unableLoadShareLink: 'Unable to load share link.',
      unableLoadViewers: 'Unable to load invited viewers.',
      unableLoadEligibleInvitees: 'Unable to load eligible invitees.',
      unableLoadTransferCandidates: 'Unable to load transfer candidates.',
      loadingTrip: 'Loading trip...',
      loadingEntries: 'Loading entries...',
      noEntriesYetWithAddStory: 'No entries yet. Use the add story button to get started.',
      photoUpdate: 'Photo update',
      storyCoverFor: 'Story cover for',
      shareTrip: 'Share trip',
      shareLink: 'Share link',
      shareLinkDescription: 'Create a read-only link for this trip.',
      linkRevoked: 'Link revoked.',
      shareUrlLabel: 'Share URL',
      copyLink: 'Copy link',
      creatingShareLink: 'Creating...',
      generateLink: 'Generate link',
      inviteViewers: 'Invite viewers',
      inviteViewersDescription: 'Invite existing users to view this trip.',
      contributorAccessNote: 'Contributor access applies to this trip only.',
      loadingViewers: 'Loading viewers...',
      noInvitedViewersYet: 'No invited viewers yet.',
      contributor: 'Contributor',
      viewOnly: 'View only',
      updating: 'Updating...',
      disableContribution: 'Disable contribution',
      enableContribution: 'Enable contribution',
      removeInvite: 'Remove invite',
      inviteViewerSelector: 'Invite viewer selector',
      loadingInvitees: 'Loading invitees...',
      noEligibleUsers: 'No eligible users',
      selectInvitee: 'Select invitee',
      eligibleInvitees: 'Eligible invitees',
      inviting: 'Inviting...',
      invite: 'Invite',
      removeInviteTitle: 'Remove this invite?',
      revokeAccessFor: 'This will revoke access for',
      keepInvite: 'No, keep',
      removing: 'Removing...',
      confirmRemove: 'Yes, remove',
      transferOwnershipDescription: 'Select a new owner. Only active creators and administrators are eligible.',
      loadingEligibleOwners: 'Loading eligible owners...',
      noEligibleOwners: 'No eligible owners available.',
      newOwner: 'New owner',
      selectUser: 'Select a user',
      transferring: 'Transferring...',
      revokeLinkTitle: 'Revoke this link?',
      revokeLinkDescription: 'Anyone using this link will lose access immediately.',
      keepLink: 'Keep link',
      revoking: 'Revoking...',
      confirmRevoke: 'Yes, revoke',
      shareLinkCreateError: 'Unable to create share link.',
      shareLinkIncomplete: 'Share link response was incomplete.',
      selectUserToInvite: 'Select a user to invite.',
      selectedUserNoLongerEligible: 'Selected user is no longer eligible.',
      inviteViewerError: 'Unable to invite viewer.',
      removeInviteError: 'Unable to remove invite.',
      updateContributorError: 'Unable to update contributor access.',
      selectNewOwner: 'Select a new owner.',
      transferOwnershipError: 'Unable to transfer ownership.',
      revokeShareLinkError: 'Unable to revoke share link.',
      copyShareLinkError: 'Unable to copy the share link.',
      openSharedViewError: 'Unable to open shared view.',
      coverImageTypeError: 'Cover image must be a JPG, PNG, or WebP file.',
      coverImageSizeError: 'Cover image must be 5MB or less.',
      coverUploadError: 'Unable to upload cover image.',
      coverUploadCancelled: 'Cover image upload was cancelled.',
      coverUploadRetryError: 'Unable to upload cover image. Please try again.',
      updateTripError: 'Unable to update trip. Please try again.',
      deleteTripTitle: 'Delete this trip?',
      deleteTripDescriptionPrefix: 'This will permanently remove',
      deleteTripDescriptionSuffix: 'and all of its entries.',
      keepTrip: 'Keep trip',
      deletingTrip: 'Deleting...',
      confirmDeleteTrip: 'Yes, delete',
      deleteTripError: 'Unable to delete the trip.',
    },
    entries: {
      create: 'New Entry',
      addTodaysStory: "Add today's story",
      entryFormGuidance: 'Mix text and inline photos, then add any extra shots to the photo gallery.',
      edit: 'Edit Entry',
      editStory: 'Edit story',
      delete: 'Delete Entry',
      title: 'Title',
      content: 'Content',
      date: 'Date',
      photos: 'Photos',
      noEntries: 'No entries yet',
      backToTrip: 'Back to trip',
      backToEntry: 'Back to entry',
      dailyEntry: 'Daily entry',
      openHeroPhoto: 'Open hero photo',
      entryHeroMedia: 'Entry hero media',
      noMediaAvailable: 'No media available for this entry yet.',
      openPhoto: 'Open photo',
      entryPhoto: 'Entry photo',
      tripPhoto: 'Trip photo',
      noEntryText: 'No entry text yet.',
      previous: 'Previous',
      next: 'Next',
      previousEntry: 'Previous entry',
      nextEntry: 'Next entry',
      startOfTrip: 'Start of trip',
      endOfTrip: 'End of trip',
      unableLoadEntry: 'Unable to load this entry.',
      galleryLabel: 'Gallery',
      moreMoments: 'More moments',
      startSlideshow: 'Start slideshow',
      scrollGalleryBackward: 'Scroll gallery backward',
      scrollGalleryForward: 'Scroll gallery forward',
      entryMedia: 'Entry media',
      mediaLabel: 'Media',
      photosMoments: 'Photos & moments',
      noMediaAttached: 'No media attached to this entry.',
      entryActions: 'Entry actions',
      entryDate: 'Entry date',
      entryTitle: 'Entry title',
      entryText: 'Entry text',
      entryHeroOverlay: 'Entry details',
      entryLocationMap: 'Entry location map',
      entryLocationLabel: 'Location',
      entryDateRequired: 'Entry date is required.',
      entryTitleRequired: 'Entry title is required.',
      entryTextRequired: 'Entry text is required.',
      entryMediaRequired: 'Add at least one photo in the library or inline text.',
      tags: 'Tags',
      addTagPlaceholder: 'Add a tag...',
      addTag: 'Add tag',
      removeTag: 'Remove tag',
      tagAlreadyAdded: 'Tag already added.',
      tagRequired: 'Tag is required.',
      tagTooLong: 'Tag must be 40 characters or fewer.',
      tagsMustBeUnique: 'Tags must be unique.',
      storyLocation: 'Story location',
      searchLocation: 'Search for a place',
      searching: 'Searching...',
      clearLocation: 'Clear location',
      changeLocation: 'Change location',
      usePhotoLocation: 'Use photo location',
      photoLocation: 'Photo location',
      entryTitleMaxLength: 'Entry title must be 80 characters or fewer.',
      entryCreateError: 'Unable to create entry. Please try again.',
      entryUpdateError: 'Unable to update entry. Please try again.',
      maxCharacters: 'Max',
      characters: 'characters.',
      headlinePlaceholder: 'Give the day a headline...',
      storyPlaceholder: 'Share what happened today...',
      storyEditPlaceholder: 'Refine the story...',
      imageLibrary: 'Entry image library',
      choosePhotos: 'Choose photos',
      uploadingPhotos: 'Uploading photos...',
      uploading: 'Uploading',
      uploaded: 'Uploaded',
      failed: 'Failed',
      retry: 'Retry',
      remove: 'Remove',
      libraryImage: 'Library image',
      clearStoryImage: 'Clear story image',
      setStoryImage: 'Set as story image',
      insertInline: 'Insert inline',
      selected: 'Selected',
      mediaPreview: 'media preview',
      mediaPreviews: 'media previews',
      addEntry: 'Add entry',
      addingEntry: 'Adding entry...',
      saveEntry: 'Save entry',
      savingUpdates: 'Saving updates...',
      photoViewer: 'Photo viewer',
      deleteEntryTitle: 'Delete this entry?',
      deleteEntryDescriptionPrefix: 'This will permanently remove',
      deleteEntryDescriptionSuffix: 'from this trip.',
      deleteEntryFallbackTitle: 'this entry',
      keepEntry: 'Keep entry',
      deletingEntry: 'Deleting...',
      confirmDeleteEntry: 'Yes, delete',
      deleteEntryError: 'Unable to delete the entry.',
      mediaTypeError: 'Media files must be a JPG, PNG, or WebP file.',
      mediaSizeError: 'Media files must be 5MB or less.',
      mediaUploadError: 'Unable to upload media file.',
      mediaUploadCancelled: 'Media upload was cancelled.',
      mediaUploadRetryError: 'Unable to upload media file. Please try again.',
    },
    auth: {
      username: 'Username',
      password: 'Password',
      signIn: 'Sign In',
      signOut: 'Sign Out',
      invalidCredentials: 'Invalid email or password.',
      accountAccess: 'Account Access',
      signInDescription: 'Use your account to access the trips you have permission to view.',
      email: 'Email',
      emailPlaceholder: 'you@example.com',
      passwordPlaceholder: '••••••••',
      accountInactive: 'Your account is inactive. Contact an admin.',
      accountNotFound: 'Account not found or has been removed.',
      unableSignIn: 'Unable to sign in. Please try again.',
      credentialsRequired: 'Email and password are required.',
      signingIn: 'Signing in...',
    },
    account: {
      account: 'Account',
      userManual: 'User Manual',
      changePassword: 'Change password',
      checkOut: 'Check out',
      accountSecurity: 'Account Security',
      updatePasswordToContinue: 'Update your password to continue to your trips.',
      temporaryPasswordMustUpdate: 'Your temporary password must be updated before you can access trips.',
      currentPassword: 'Current password',
      currentPasswordRequired: 'Current password is required.',
      newPassword: 'New password',
      newPasswordRequired: 'New password is required.',
      passwordMinLength: 'Password must be at least 8 characters.',
      updatePasswordError: 'Unable to update password.',
      passwordUpdatedSessionError: 'Password updated, but we could not refresh your session. Please sign in again.',
      updatingPassword: 'Updating password...',
      placeholderPassword: '••••••••',
      placeholderNewPassword: 'At least 8 characters',
    },
    manual: {
      helpGuidance: 'Help & Guidance',
      userManual: 'User Manual',
      navigateUse: 'Navigate and use TravelBlogs based on your role and permissions.',
      unableDetermineRole: 'Unable to determine your role. Please contact an administrator.',
      viewerActions: 'Viewer Actions',
      viewerIntro: "As a viewer, you can access trips you've been invited to and explore their content.",
      viewTrips: 'View Trips',
      viewTripsDesc: 'to see trips you have access to.',
      viewEntries: 'View Entries',
      viewEntriesDesc: 'Click on a trip to see all blog entries and media.',
      fullScreenViewer: 'Full-Screen Viewer',
      fullScreenViewerDesc: 'Click on an entry or photo to view it in full-screen mode with navigation controls.',
      tripOverview: 'Trip Overview',
      tripOverviewDesc: 'Access the trip overview page to see latest entries and trip details.',
      contributorActions: 'Contributor Actions',
      contributorIntro: 'If you have contributor access to a trip (granted by the trip owner), you can add and edit blog entries on that trip.',
      addEntry: 'Add Entry',
      addEntryDesc: 'Navigate to the trip page and use the "Add Entry" button to create a new blog post with title, content, and media.',
      editEntry: 'Edit Entry',
      editEntryDesc: 'Click on an entry you created or have permission to edit, then use the edit controls.',
      uploadMedia: 'Upload Media',
      uploadMediaDesc: 'Use the media upload controls to add photos and files to your entries.',
      deleteEntry: 'Delete Entry',
      deleteEntryDesc: 'Remove entries you created using the delete option (if permitted by trip owner).',
      creatorActions: 'Creator Actions',
      creatorIntro: 'As a creator, you can manage your trips, invite users, and control sharing settings.',
      createTrip: 'Create Trip',
      createTripDesc: 'and use the "Create Trip" button to start a new travel blog.',
      editTrip: 'Edit Trip',
      editTripDesc: 'Modify trip metadata like title, description, and cover image.',
      deleteTrip: 'Delete Trip',
      deleteTripDesc: 'Remove trips you own permanently.',
      inviteViewers: 'Invite Viewers',
      inviteViewersDesc: 'Share trips by inviting users as viewers or contributors from the trip settings.',
      manageSharing: 'Manage Sharing',
      manageSharingDesc: 'Create, regenerate, or revoke shareable links for public access.',
      transferOwnership: 'Transfer Ownership',
      transferOwnershipDesc: 'Transfer trip ownership to another creator.',
      administratorActions: 'Administrator Actions',
      administratorIntro: 'As an administrator, you have full access to user management and system-wide controls.',
      createUserAccounts: 'Create User Accounts',
      createUserAccountsDesc: 'Add new users to the system with assigned roles.',
      changeUserRoles: 'Change User Roles',
      changeUserRolesDesc: 'Promote or change user roles (viewer, creator, administrator).',
      deactivateUsers: 'Deactivate Users',
      deactivateUsersDesc: 'Disable user accounts to revoke access without deletion.',
      accessAllTrips: 'Access All Trips',
      accessAllTripsDesc: 'View and manage all trips in the system regardless of ownership.',
      navigationTips: 'Navigation Tips',
      backButtons: 'Use the',
      backButtonsStrong: 'back',
      backButtonsDesc: 'buttons to return to previous pages (trips list, trip overview).',
      sharedView: 'The',
      sharedViewStrong: 'shared view',
      sharedViewDesc: 'button lets you preview how public visitors see your trip.',
      fullScreenProgress: 'Full-screen viewer includes segmented progress indicators and minimal chrome for immersive viewing.',
      needHelp: 'Need more help? Contact your administrator or trip owner for assistance.',
    },
    admin: {
      manageUsers: 'Manage users',
      createAccounts: 'Create accounts for administrators, creators, and viewers.',
      users: 'Users',
      manageAccounts: 'Manage administrator, creator, and viewer accounts.',
      addUser: 'Add user',
      closeForm: 'Close form',
      createUser: 'Create a user',
      setTemporaryPassword: 'Set a temporary password and choose the correct role.',
      name: 'Name',
      fullName: 'Full name',
      email: 'Email',
      emailAddress: 'Email address',
      password: 'Password',
      temporaryPassword: 'Temporary password',
      role: 'Role',
      creator: 'Creator',
      administrator: 'Administrator',
      viewer: 'Viewer',
      status: 'Status',
      active: 'Active',
      inactive: 'Inactive',
      actions: 'Actions',
      edit: 'Edit',
      editUser: 'Edit user',
      save: 'Save',
      saveRole: 'Save role',
      cancel: 'Cancel',
      delete: 'Delete',
      deleteUser: 'Delete user',
      confirmDelete: 'Confirm delete',
      created: 'Created',
      saving: 'Saving...',
      deleting: 'Deleting...',
      creatingUser: 'Creating user...',
      deactivate: 'Deactivate',
      activate: 'Activate',
      atLeast8Characters: 'At least 8 characters',
      noUsersYet: 'No users yet',
      noUsersDescription: 'Create the first account to invite someone into TravelBlogs.',
      defaultCreator: 'Default creator',
      roleFor: 'Role for',
      deleteUserWarning: 'Delete this user? This cannot be undone.',
      emailRequired: 'Email is required.',
      emailValid: 'Email must be valid.',
      nameRequired: 'Name is required.',
      roleRequired: 'Role is required.',
      passwordRequired: 'Password is required.',
      passwordMinLength: 'Password must be at least 8 characters.',
      createUserError: 'Unable to create the user.',
      placeholderEmail: 'viewer@example.com',
      placeholderName: 'Avery Chen',
      updateRoleError: 'Unable to update role.',
      updateStatusError: 'Unable to update status.',
      deleteUserError: 'Unable to delete user.',
      unableLoadUsers: 'Unable to load users.',
    },
  },
  de: {
    common: {
      trips: 'Reisen',
      entries: 'Einträge',
      save: 'Speichern',
      cancel: 'Abbrechen',
      delete: 'Löschen',
      edit: 'Bearbeiten',
      back: 'Zurück',
      loading: 'Lädt...',
      error: 'Fehler',
      success: 'Erfolg',
      signOut: 'Abmelden',
      signIn: 'Anmelden',
      language: 'Sprache',
      view: 'Ansehen',
      open: 'Öffnen',
      close: 'Schließen',
      active: 'Aktiv',
      copied: 'Kopiert',
    },
    editor: {
      placeholder: 'Beginne zu schreiben...',
      contentArea: 'Rich-Text-Editor-Inhaltsbereich',
      toolbar: 'Textformatierungs-Werkzeugleiste',
      textFormatting: 'Textformatierung',
      bold: 'Fett',
      italic: 'Kursiv',
      strikethrough: 'Durchgestrichen',
      underline: 'Unterstrichen',
      headings: 'Überschriften',
      paragraph: 'Absatz',
      heading1: 'Überschrift 1',
      heading2: 'Überschrift 2',
      heading3: 'Überschrift 3',
      lists: 'Listen',
      bulletList: 'Aufzählungsliste',
      numberedList: 'Nummerierte Liste',
      alignment: 'Textausrichtung',
      alignLeft: 'Linksbündig',
      alignCenter: 'Zentriert',
      alignRight: 'Rechtsbündig',
      links: 'Links',
      addLink: 'Link hinzufügen',
      removeLink: 'Link entfernen',
      linkUrl: 'Link-URL',
      linkPlaceholder: 'https://beispiel.de',
      applyLink: 'Anwenden',
      undoRedo: 'Rückgängig und Wiederherstellen',
      undo: 'Rückgängig',
      redo: 'Wiederherstellen',
      initError: 'Editor konnte nicht initialisiert werden. Bitte aktualisiere die Seite und versuche es erneut.',
    },
    trips: {
      create: 'Reise erstellen',
      edit: 'Reise bearbeiten',
      delete: 'Reise löschen',
      title: 'Titel',
      description: 'Beschreibung',
      startDate: 'Startdatum',
      endDate: 'Enddatum',
      coverImage: 'Titelbild',
      coverImageOptional: 'Titelbild (optional)',
      noTrips: 'Noch keine Reisen',
      viewShared: 'Geteilte ansehen',
      backToTrips: 'Zurück zu Reisen',
      backToTrip: 'Zurück zur Reise',
      tripOverview: 'Reiseübersicht',
      owner: 'Eigentümer',
      tripActions: 'Reiseaktionen',
      editTrip: 'Reise bearbeiten',
      editTripDetails: 'Reisedetails bearbeiten',
      yourTrips: 'Ihre Reisen',
      manageTrips: 'Reisen verwalten',
      manageUsers: 'Benutzer verwalten',
      createTrip: 'Reise erstellen',
      deleteTrip: 'Reise löschen',
      transferOwnership: 'Eigentümer übertragen',
      share: 'Teilen',
      addStory: 'Geschichte hinzufügen',
      saveChanges: 'Änderungen speichern',
      startNewTrip: 'Starten Sie eine neue Reise oder besuchen Sie Ihre bestehenden Pläne.',
      tripsInvitedMessage: 'Reisen, zu denen Sie eingeladen wurden, werden hier angezeigt.',
      revokeShareLink: 'Freigabe-Link widerrufen',
      tripTitle: 'Reisetitel',
      tripSetup: 'Reise-Einrichtung',
      updateBasics: 'Aktualisieren Sie die Grundlagen, damit Ihre Reiseinformationen korrekt bleiben.',
      noInvitedTripsYet: 'Noch keine eingeladenen Reisen',
      whenInvited: 'Wenn Sie zu einer Reise eingeladen werden, wird sie hier angezeigt.',
      noTripsYet: 'Noch keine Reisen. Erstellen Sie Ihre erste Reise, um Ihre Erlebnisse festzuhalten.',
      createATrip: 'Reise erstellen',
      noAccess: 'Ihr Konto hat keinen Zugriff auf Reisen.',
      accessRestricted: 'Der Zugriff auf diesen Bereich ist eingeschränkt.',
      titleRequired: 'Titel ist erforderlich.',
      startDateRequired: 'Startdatum ist erforderlich.',
      endDateRequired: 'Enddatum ist erforderlich.',
      endDateAfterStart: 'Das Enddatum muss nach dem Startdatum liegen.',
      placeholderTitle: 'Frühling in Kyoto',
      fileFormatHint: 'JPG, PNG oder WebP bis zu 5 MB.',
      coverPreviewAlt: 'Titelbildvorschau',
      uploading: 'Wird hochgeladen…',
      uploadError: 'Titelbild konnte nicht hochgeladen werden.',
      creatingTrip: 'Reise wird erstellt...',
      createTripError: 'Reise konnte nicht erstellt werden. Bitte versuchen Sie es erneut.',
      createNewTrip: 'Neue Reise erstellen',
      addCoreDetails: 'Fügen Sie die wichtigsten Details hinzu, damit Sie sofort mit dem Sammeln von Einträgen beginnen können.',
      latestEntries: 'Neueste Einträge',
      filterTags: 'Tags filtern',
      clearTagFilters: 'Filter entfernen',
      mapView: 'Karte',
      viewFullMap: 'Vollständige Karte ansehen',
      tripMap: 'Reisekarte',
      mapPins: 'Kartenpins',
      noLocations: 'Noch keine Orte. Einträge erscheinen, sobald Koordinaten verfügbar sind.',
      noEntriesYet: 'Noch keine Einträge. Schauen Sie bald wieder vorbei.',
      read: 'Lesen',
      coverFor: 'Titelbild für',
      previewFor: 'Vorschau für',
      shareLinkNoLongerValid: 'Dieser Freigabelink ist nicht mehr gültig.',
      validatingShareLink: 'Freigabelink wird überprüft...',
      unableDetermineHost: 'Der Host für diese Anfrage konnte nicht ermittelt werden.',
      unableLoadTrip: 'Diese Reise konnte nicht geladen werden.',
      unableLoadTrips: 'Reisen konnten nicht geladen werden.',
      unableLoadTripOverview: 'Reiseübersicht konnte nicht geladen werden.',
      unableLoadEntries: 'Einträge konnten nicht geladen werden.',
      unableLoadShareLink: 'Freigabelink konnte nicht geladen werden.',
      unableLoadViewers: 'Eingeladene Betrachter konnten nicht geladen werden.',
      unableLoadEligibleInvitees: 'Berechtigte Einzuladende konnten nicht geladen werden.',
      unableLoadTransferCandidates: 'Übertragungskandidaten konnten nicht geladen werden.',
      loadingTrip: 'Reise wird geladen...',
      loadingEntries: 'Einträge werden geladen...',
      noEntriesYetWithAddStory: 'Noch keine Einträge. Verwende die Schaltfläche „Story hinzufügen“, um zu beginnen.',
      photoUpdate: 'Foto-Update',
      storyCoverFor: 'Story-Cover für',
      shareTrip: 'Reise teilen',
      shareLink: 'Freigabelink',
      shareLinkDescription: 'Erstelle einen schreibgeschützten Link für diese Reise.',
      linkRevoked: 'Link widerrufen.',
      shareUrlLabel: 'Freigabe-URL',
      copyLink: 'Link kopieren',
      creatingShareLink: 'Wird erstellt...',
      generateLink: 'Link erstellen',
      inviteViewers: 'Betrachter einladen',
      inviteViewersDescription: 'Lade bestehende Nutzer ein, diese Reise anzusehen.',
      contributorAccessNote: 'Mitwirkenden-Zugriff gilt nur für diese Reise.',
      loadingViewers: 'Betrachter werden geladen...',
      noInvitedViewersYet: 'Noch keine eingeladenen Betrachter.',
      contributor: 'Mitwirkend',
      viewOnly: 'Nur ansehen',
      updating: 'Wird aktualisiert...',
      disableContribution: 'Mitwirkung deaktivieren',
      enableContribution: 'Mitwirkung aktivieren',
      removeInvite: 'Einladung entfernen',
      inviteViewerSelector: 'Betrachter-Auswahl',
      loadingInvitees: 'Einzuladende werden geladen...',
      noEligibleUsers: 'Keine berechtigten Nutzer',
      selectInvitee: 'Einzuladenden auswählen',
      eligibleInvitees: 'Berechtigte Einzuladende',
      inviting: 'Wird eingeladen...',
      invite: 'Einladen',
      removeInviteTitle: 'Einladung entfernen?',
      revokeAccessFor: 'Der Zugriff wird entzogen für',
      keepInvite: 'Nein, behalten',
      removing: 'Wird entfernt...',
      confirmRemove: 'Ja, entfernen',
      transferOwnershipDescription: 'Wähle einen neuen Besitzer. Nur aktive Ersteller und Administratoren sind berechtigt.',
      loadingEligibleOwners: 'Berechtigte Besitzer werden geladen...',
      noEligibleOwners: 'Keine berechtigten Besitzer verfügbar.',
      newOwner: 'Neuer Besitzer',
      selectUser: 'Nutzer auswählen',
      transferring: 'Wird übertragen...',
      revokeLinkTitle: 'Diesen Link widerrufen?',
      revokeLinkDescription: 'Jeder, der diesen Link nutzt, verliert sofort den Zugriff.',
      keepLink: 'Link behalten',
      revoking: 'Wird widerrufen...',
      confirmRevoke: 'Ja, widerrufen',
      shareLinkCreateError: 'Freigabelink konnte nicht erstellt werden.',
      shareLinkIncomplete: 'Antwort auf den Freigabelink war unvollständig.',
      selectUserToInvite: 'Wähle einen Nutzer zum Einladen.',
      selectedUserNoLongerEligible: 'Der ausgewählte Nutzer ist nicht mehr berechtigt.',
      inviteViewerError: 'Betrachter konnte nicht eingeladen werden.',
      removeInviteError: 'Einladung konnte nicht entfernt werden.',
      updateContributorError: 'Mitwirkenden-Zugriff konnte nicht aktualisiert werden.',
      selectNewOwner: 'Wähle einen neuen Besitzer.',
      transferOwnershipError: 'Besitzübertragung konnte nicht durchgeführt werden.',
      revokeShareLinkError: 'Freigabelink konnte nicht widerrufen werden.',
      copyShareLinkError: 'Freigabelink konnte nicht kopiert werden.',
      openSharedViewError: 'Geteilte Ansicht konnte nicht geöffnet werden.',
      coverImageTypeError: 'Titelbild muss eine JPG-, PNG- oder WebP-Datei sein.',
      coverImageSizeError: 'Titelbild darf höchstens 5 MB groß sein.',
      coverUploadError: 'Titelbild konnte nicht hochgeladen werden.',
      coverUploadCancelled: 'Titelbild-Upload wurde abgebrochen.',
      coverUploadRetryError: 'Titelbild konnte nicht hochgeladen werden. Bitte versuche es erneut.',
      updateTripError: 'Reise konnte nicht aktualisiert werden. Bitte versuche es erneut.',
      deleteTripTitle: 'Diese Reise löschen?',
      deleteTripDescriptionPrefix: 'Dies entfernt dauerhaft',
      deleteTripDescriptionSuffix: 'und alle dazugehörigen Einträge.',
      keepTrip: 'Reise behalten',
      deletingTrip: 'Wird gelöscht...',
      confirmDeleteTrip: 'Ja, löschen',
      deleteTripError: 'Reise konnte nicht gelöscht werden.',
    },
    entries: {
      create: 'Neuer Eintrag',
      addTodaysStory: 'Heutige Story hinzufügen',
      entryFormGuidance: 'Kombiniere Text und Inline-Fotos und füge dann weitere Aufnahmen zur Fotogalerie hinzu.',
      edit: 'Eintrag bearbeiten',
      editStory: 'Story bearbeiten',
      delete: 'Eintrag löschen',
      title: 'Titel',
      content: 'Inhalt',
      date: 'Datum',
      photos: 'Fotos',
      noEntries: 'Noch keine Einträge',
      backToTrip: 'Zurück zur Reise',
      backToEntry: 'Zurück zum Eintrag',
      dailyEntry: 'Tageseintrag',
      openHeroPhoto: 'Hauptfoto öffnen',
      entryHeroMedia: 'Eintrag-Hauptbild',
      noMediaAvailable: 'Noch keine Medien für diesen Eintrag verfügbar.',
      openPhoto: 'Foto öffnen',
      entryPhoto: 'Eintragsfoto',
      tripPhoto: 'Reisefoto',
      noEntryText: 'Noch kein Eintragstext.',
      previous: 'Zurück',
      next: 'Weiter',
      previousEntry: 'Vorheriger Eintrag',
      nextEntry: 'Nächster Eintrag',
      startOfTrip: 'Beginn der Reise',
      endOfTrip: 'Ende der Reise',
      unableLoadEntry: 'Dieser Eintrag konnte nicht geladen werden.',
      galleryLabel: 'Galerie',
      moreMoments: 'Mehr Momente',
      startSlideshow: 'Diashow starten',
      scrollGalleryBackward: 'Galerie nach hinten scrollen',
      scrollGalleryForward: 'Galerie nach vorne scrollen',
      entryMedia: 'Eintragsmedien',
      mediaLabel: 'Medien',
      photosMoments: 'Fotos & Momente',
      noMediaAttached: 'Diesem Eintrag sind keine Medien zugeordnet.',
      entryActions: 'Eintragsaktionen',
      entryDate: 'Eintragsdatum',
      entryTitle: 'Eintragstitel',
      entryText: 'Eintragstext',
      entryHeroOverlay: 'Eintragsdetails',
      entryLocationMap: 'Eintragskarte',
      entryLocationLabel: 'Ort',
      entryDateRequired: 'Eintragsdatum ist erforderlich.',
      entryTitleRequired: 'Eintragstitel ist erforderlich.',
      entryTextRequired: 'Eintragstext ist erforderlich.',
      entryMediaRequired: 'Füge mindestens ein Foto in die Bibliothek oder den Inline-Text ein.',
      tags: 'Tags',
      addTagPlaceholder: 'Tag hinzufügen...',
      addTag: 'Tag hinzufügen',
      removeTag: 'Tag entfernen',
      tagAlreadyAdded: 'Tag bereits hinzugefügt.',
      tagRequired: 'Tag ist erforderlich.',
      tagTooLong: 'Tag darf höchstens 40 Zeichen lang sein.',
      tagsMustBeUnique: 'Tags müssen eindeutig sein.',
      storyLocation: 'Story-Ort',
      searchLocation: 'Ort suchen',
      searching: 'Suche...',
      clearLocation: 'Ort entfernen',
      changeLocation: 'Ort ändern',
      usePhotoLocation: 'Foto-Ort verwenden',
      photoLocation: 'Foto-Ort',
      entryTitleMaxLength: 'Eintragstitel darf höchstens 80 Zeichen lang sein.',
      entryCreateError: 'Eintrag konnte nicht erstellt werden. Bitte versuche es erneut.',
      entryUpdateError: 'Eintrag konnte nicht aktualisiert werden. Bitte versuche es erneut.',
      maxCharacters: 'Max.',
      characters: 'Zeichen.',
      headlinePlaceholder: 'Gib dem Tag eine Überschrift...',
      storyPlaceholder: 'Erzähle, was heute passiert ist...',
      storyEditPlaceholder: 'Verfeinere die Geschichte...',
      imageLibrary: 'Eintragsbildbibliothek',
      choosePhotos: 'Fotos auswählen',
      uploadingPhotos: 'Fotos werden hochgeladen...',
      uploading: 'Wird hochgeladen',
      uploaded: 'Hochgeladen',
      failed: 'Fehlgeschlagen',
      retry: 'Wiederholen',
      remove: 'Entfernen',
      libraryImage: 'Bibliotheksbild',
      clearStoryImage: 'Story-Bild entfernen',
      setStoryImage: 'Als Story-Bild festlegen',
      insertInline: 'Inline einfügen',
      selected: 'Ausgewählt',
      mediaPreview: 'Medienvorschau',
      mediaPreviews: 'Medienvorschauen',
      addEntry: 'Eintrag hinzufügen',
      addingEntry: 'Eintrag wird hinzugefügt...',
      saveEntry: 'Eintrag speichern',
      savingUpdates: 'Änderungen werden gespeichert...',
      photoViewer: 'Fotoanzeige',
      deleteEntryTitle: 'Diesen Eintrag löschen?',
      deleteEntryDescriptionPrefix: 'Dies entfernt dauerhaft',
      deleteEntryDescriptionSuffix: 'aus dieser Reise.',
      deleteEntryFallbackTitle: 'diesen Eintrag',
      keepEntry: 'Eintrag behalten',
      deletingEntry: 'Wird gelöscht...',
      confirmDeleteEntry: 'Ja, löschen',
      deleteEntryError: 'Eintrag konnte nicht gelöscht werden.',
      mediaTypeError: 'Mediendateien müssen JPG-, PNG- oder WebP-Dateien sein.',
      mediaSizeError: 'Mediendateien dürfen höchstens 5 MB groß sein.',
      mediaUploadError: 'Mediendatei konnte nicht hochgeladen werden.',
      mediaUploadCancelled: 'Medien-Upload wurde abgebrochen.',
      mediaUploadRetryError: 'Mediendatei konnte nicht hochgeladen werden. Bitte versuche es erneut.',
    },
    auth: {
      username: 'Benutzername',
      password: 'Passwort',
      signIn: 'Anmelden',
      signOut: 'Abmelden',
      invalidCredentials: 'Ungültige E-Mail oder Passwort.',
      accountAccess: 'Kontozugriff',
      signInDescription: 'Nutze dein Konto, um auf die Reisen zuzugreifen, die du ansehen darfst.',
      email: 'E-Mail',
      emailPlaceholder: 'du@example.com',
      passwordPlaceholder: '••••••••',
      accountInactive: 'Dein Konto ist inaktiv. Kontaktiere einen Administrator.',
      accountNotFound: 'Konto wurde nicht gefunden oder wurde entfernt.',
      unableSignIn: 'Anmeldung nicht möglich. Bitte versuche es erneut.',
      credentialsRequired: 'E-Mail und Passwort sind erforderlich.',
      signingIn: 'Wird angemeldet...',
    },
    account: {
      account: 'Konto',
      userManual: 'Benutzerhandbuch',
      changePassword: 'Passwort ändern',
      checkOut: 'Abmelden',
      accountSecurity: 'Kontosicherheit',
      updatePasswordToContinue: 'Aktualisieren Sie Ihr Passwort, um mit Ihren Reisen fortzufahren.',
      temporaryPasswordMustUpdate: 'Ihr temporäres Passwort muss aktualisiert werden, bevor Sie auf Reisen zugreifen können.',
      currentPassword: 'Aktuelles Passwort',
      currentPasswordRequired: 'Aktuelles Passwort ist erforderlich.',
      newPassword: 'Neues Passwort',
      newPasswordRequired: 'Neues Passwort ist erforderlich.',
      passwordMinLength: 'Das Passwort muss mindestens 8 Zeichen lang sein.',
      updatePasswordError: 'Passwort konnte nicht aktualisiert werden.',
      passwordUpdatedSessionError: 'Passwort aktualisiert, aber wir konnten Ihre Sitzung nicht aktualisieren. Bitte melden Sie sich erneut an.',
      updatingPassword: 'Passwort wird aktualisiert...',
      placeholderPassword: '••••••••',
      placeholderNewPassword: 'Mindestens 8 Zeichen',
    },
    manual: {
      helpGuidance: 'Hilfe & Anleitung',
      userManual: 'Benutzerhandbuch',
      navigateUse: 'Navigieren und verwenden Sie TravelBlogs basierend auf Ihrer Rolle und Berechtigungen.',
      unableDetermineRole: 'Ihre Rolle konnte nicht ermittelt werden. Bitte wenden Sie sich an einen Administrator.',
      viewerActions: 'Betrachter-Aktionen',
      viewerIntro: 'Als Betrachter können Sie auf Reisen zugreifen, zu denen Sie eingeladen wurden, und deren Inhalte erkunden.',
      viewTrips: 'Reisen ansehen',
      viewTripsDesc: 'um Reisen zu sehen, auf die Sie Zugriff haben.',
      viewEntries: 'Einträge ansehen',
      viewEntriesDesc: 'Klicken Sie auf eine Reise, um alle Blog-Einträge und Medien zu sehen.',
      fullScreenViewer: 'Vollbild-Viewer',
      fullScreenViewerDesc: 'Klicken Sie auf einen Eintrag oder ein Foto, um es im Vollbildmodus mit Navigationssteuerelementen anzuzeigen.',
      tripOverview: 'Reiseübersicht',
      tripOverviewDesc: 'Greifen Sie auf die Reiseübersichtsseite zu, um die neuesten Einträge und Reisedetails zu sehen.',
      contributorActions: 'Mitwirkenden-Aktionen',
      contributorIntro: 'Wenn Sie Mitwirkenden-Zugriff auf eine Reise haben (vom Reiseeigentümer gewährt), können Sie Blog-Einträge für diese Reise hinzufügen und bearbeiten.',
      addEntry: 'Eintrag hinzufügen',
      addEntryDesc: 'Navigieren Sie zur Reiseseite und verwenden Sie die Schaltfläche "Eintrag hinzufügen", um einen neuen Blog-Beitrag mit Titel, Inhalt und Medien zu erstellen.',
      editEntry: 'Eintrag bearbeiten',
      editEntryDesc: 'Klicken Sie auf einen von Ihnen erstellten Eintrag oder einen Eintrag, für den Sie Bearbeitungsrechte haben, und verwenden Sie dann die Bearbeitungssteuerelemente.',
      uploadMedia: 'Medien hochladen',
      uploadMediaDesc: 'Verwenden Sie die Medien-Upload-Steuerelemente, um Fotos und Dateien zu Ihren Einträgen hinzuzufügen.',
      deleteEntry: 'Eintrag löschen',
      deleteEntryDesc: 'Entfernen Sie von Ihnen erstellte Einträge mit der Löschoption (falls vom Reiseeigentümer erlaubt).',
      creatorActions: 'Ersteller-Aktionen',
      creatorIntro: 'Als Ersteller können Sie Ihre Reisen verwalten, Benutzer einladen und Freigabeeinstellungen steuern.',
      createTrip: 'Reise erstellen',
      createTripDesc: 'und verwenden Sie die Schaltfläche "Reise erstellen", um ein neues Reiseblog zu starten.',
      editTrip: 'Reise bearbeiten',
      editTripDesc: 'Ändern Sie Reisemetadaten wie Titel, Beschreibung und Titelbild.',
      deleteTrip: 'Reise löschen',
      deleteTripDesc: 'Entfernen Sie Reisen, die Sie besitzen, dauerhaft.',
      inviteViewers: 'Betrachter einladen',
      inviteViewersDesc: 'Teilen Sie Reisen, indem Sie Benutzer als Betrachter oder Mitwirkende über die Reiseeinstellungen einladen.',
      manageSharing: 'Freigabe verwalten',
      manageSharingDesc: 'Erstellen, regenerieren oder widerrufen Sie teilbare Links für den öffentlichen Zugriff.',
      transferOwnership: 'Eigentümer übertragen',
      transferOwnershipDesc: 'Übertragen Sie das Eigentum an einer Reise auf einen anderen Ersteller.',
      administratorActions: 'Administrator-Aktionen',
      administratorIntro: 'Als Administrator haben Sie vollen Zugriff auf die Benutzerverwaltung und systemweite Kontrollen.',
      createUserAccounts: 'Benutzerkonten erstellen',
      createUserAccountsDesc: 'Fügen Sie neue Benutzer mit zugewiesenen Rollen zum System hinzu.',
      changeUserRoles: 'Benutzerrollen ändern',
      changeUserRolesDesc: 'Befördern oder ändern Sie Benutzerrollen (Betrachter, Ersteller, Administrator).',
      deactivateUsers: 'Benutzer deaktivieren',
      deactivateUsersDesc: 'Deaktivieren Sie Benutzerkonten, um den Zugriff ohne Löschung zu widerrufen.',
      accessAllTrips: 'Auf alle Reisen zugreifen',
      accessAllTripsDesc: 'Zeigen und verwalten Sie alle Reisen im System unabhängig vom Eigentum.',
      navigationTips: 'Navigations-Tipps',
      backButtons: 'Verwenden Sie die',
      backButtonsStrong: 'Zurück',
      backButtonsDesc: '-Schaltflächen, um zu vorherigen Seiten zurückzukehren (Reisenliste, Reiseübersicht).',
      sharedView: 'Die Schaltfläche',
      sharedViewStrong: 'Geteilte Ansicht',
      sharedViewDesc: 'ermöglicht es Ihnen, eine Vorschau anzuzeigen, wie öffentliche Besucher Ihre Reise sehen.',
      fullScreenProgress: 'Der Vollbild-Viewer enthält segmentierte Fortschrittsanzeigen und minimales Chrome für ein immersives Seherlebnis.',
      needHelp: 'Benötigen Sie weitere Hilfe? Wenden Sie sich an Ihren Administrator oder Reiseeigentümer.',
    },
    admin: {
      manageUsers: 'Benutzer verwalten',
      createAccounts: 'Erstellen Sie Konten für Administratoren, Ersteller und Betrachter.',
      users: 'Benutzer',
      manageAccounts: 'Verwalten Sie Administrator-, Ersteller- und Betrachter-Konten.',
      addUser: 'Benutzer hinzufügen',
      closeForm: 'Formular schließen',
      createUser: 'Benutzer erstellen',
      setTemporaryPassword: 'Legen Sie ein temporäres Passwort fest und wählen Sie die richtige Rolle.',
      name: 'Name',
      fullName: 'Vollständiger Name',
      email: 'E-Mail',
      emailAddress: 'E-Mail-Adresse',
      password: 'Passwort',
      temporaryPassword: 'Temporäres Passwort',
      role: 'Rolle',
      creator: 'Ersteller',
      administrator: 'Administrator',
      viewer: 'Betrachter',
      status: 'Status',
      active: 'Aktiv',
      inactive: 'Inaktiv',
      actions: 'Aktionen',
      edit: 'Bearbeiten',
      editUser: 'Benutzer bearbeiten',
      save: 'Speichern',
      saveRole: 'Rolle speichern',
      cancel: 'Abbrechen',
      delete: 'Löschen',
      deleteUser: 'Benutzer löschen',
      confirmDelete: 'Löschen bestätigen',
      created: 'Erstellt',
      saving: 'Wird gespeichert...',
      deleting: 'Wird gelöscht...',
      creatingUser: 'Benutzer wird erstellt...',
      deactivate: 'Deaktivieren',
      activate: 'Aktivieren',
      atLeast8Characters: 'Mindestens 8 Zeichen',
      noUsersYet: 'Noch keine Benutzer',
      noUsersDescription: 'Erstelle das erste Konto, um jemanden zu TravelBlogs einzuladen.',
      defaultCreator: 'Standard-Ersteller',
      roleFor: 'Rolle für',
      deleteUserWarning: 'Diesen Nutzer löschen? Das kann nicht rückgängig gemacht werden.',
      emailRequired: 'E-Mail ist erforderlich.',
      emailValid: 'E-Mail muss gültig sein.',
      nameRequired: 'Name ist erforderlich.',
      roleRequired: 'Rolle ist erforderlich.',
      passwordRequired: 'Passwort ist erforderlich.',
      passwordMinLength: 'Passwort muss mindestens 8 Zeichen lang sein.',
      createUserError: 'Benutzer konnte nicht erstellt werden.',
      placeholderEmail: 'viewer@example.com',
      placeholderName: 'Avery Chen',
      updateRoleError: 'Rolle konnte nicht aktualisiert werden.',
      updateStatusError: 'Status konnte nicht aktualisiert werden.',
      deleteUserError: 'Benutzer konnte nicht gelöscht werden.',
      unableLoadUsers: 'Benutzer konnten nicht geladen werden.',
    },
  },
};

/**
 * Get translation for a given key and locale
 * @param key - Translation key in dot notation (e.g., 'common.trips')
 * @param locale - Target locale ('en' or 'de')
 * @returns Translated string or key if not found
 */
export function getTranslation(key: string, locale: Locale): string {
  const keys = key.split('.');
  let value: unknown = translations[locale];

  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = (value as Record<string, unknown>)[k];
    } else {
      // Fallback to key if translation not found
      return key;
    }
  }

  return typeof value === 'string' ? value : key;
}

/**
 * Format date according to locale
 * @param date - Date to format
 * @param locale - Target locale ('en' or 'de')
 * @returns Formatted date string
 */
const getEnglishOrdinalSuffix = (day: number): string => {
  const remainder = day % 100;
  if (remainder >= 11 && remainder <= 13) {
    return 'th';
  }
  switch (day % 10) {
    case 1:
      return 'st';
    case 2:
      return 'nd';
    case 3:
      return 'rd';
    default:
      return 'th';
  }
};

export function formatDate(date: Date, locale: Locale): string {
  if (Number.isNaN(date.getTime())) {
    return '';
  }
  if (locale === 'en') {
    const formatter = new Intl.DateTimeFormat('en-US', {
      month: 'long',
      day: 'numeric',
      year: 'numeric',
    });
    const parts = formatter.formatToParts(date);
    const month = parts.find((part) => part.type === 'month')?.value ?? '';
    const dayValue = parts.find((part) => part.type === 'day')?.value ?? '';
    const year = parts.find((part) => part.type === 'year')?.value ?? '';
    const dayNumber = Number(dayValue);
    const suffix = Number.isNaN(dayNumber)
      ? ''
      : getEnglishOrdinalSuffix(dayNumber);
    return `${month} ${dayValue}${suffix}, ${year}`.trim();
  }

  return new Intl.DateTimeFormat('de-DE', {
    day: 'numeric',
    month: 'long',
    year: 'numeric',
  }).format(date);
}

/**
 * Format datetime according to locale
 * @param date - Date to format
 * @param locale - Target locale ('en' or 'de')
 * @returns Formatted datetime string
 */
export function formatDateTime(date: Date, locale: Locale): string {
  const localeStr = locale === 'en' ? 'en-US' : 'de-DE';
  return date.toLocaleString(localeStr);
}

/**
 * Get locale-specific BCP 47 language tag
 * @param locale - Target locale ('en' or 'de')
 * @returns BCP 47 language tag (e.g., 'en-US' or 'de-DE')
 */
export function getLocaleString(locale: Locale): string {
  return locale === 'en' ? 'en-US' : 'de-DE';
}

/**
 * Get browser's preferred locale or default to 'en'
 * @returns Detected locale ('en' or 'de')
 */
export function detectBrowserLocale(): Locale {
  if (typeof window === 'undefined' || !navigator.language) {
    return 'en';
  }

  const browserLang = navigator.language.toLowerCase();
  if (browserLang.startsWith('de')) {
    return 'de';
  }
  return 'en';
}

export function getLocaleFromAcceptLanguage(
  acceptLanguage?: string | null,
): Locale {
  if (!acceptLanguage) {
    return 'en';
  }
  const normalized = acceptLanguage.toLowerCase();
  if (normalized.startsWith('de')) {
    return 'de';
  }
  return 'en';
}
